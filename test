@RestController
@RequestMapping("/api")
public class HealthCheckController {
    
    private final RestTemplate restTemplate;

    @Autowired
    public HealthCheckController(RestTemplate restTemplate) {
        this.restTemplate = restTemplate;
    }

    @GetMapping("/health")
    public ResponseEntity<String> checkHealth() {
        String health = restTemplate.getForObject("/health", String.class);
        return ResponseEntity.ok(health);
    }
    
    @Scheduled(fixedRate = 10000) // execute every 10 seconds
    public void scheduledHealthCheck() {
        checkHealth();
    }
}
